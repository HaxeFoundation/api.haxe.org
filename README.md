# api.haxe.org - Haxe Standard API documentation website

[![Build Status](https://github.com/HaxeFoundation/api.haxe.org/actions/workflows/main.yml/badge.svg)](https://github.com/HaxeFoundation/api.haxe.org/actions/workflows/main.yml)

This repository hosts the api.haxe.org website.

As an overview, a program in the master branch takes the documentation xml files generated by the Haxe compiler and turn them into html pages using [dox](https://github.com/HaxeFoundation/dox).

For every commit in the development branch and tags in the [haxe repo](https://github.com/HaxeFoundation/haxe), [GitHub Actions](https://github.com/HaxeFoundation/haxe/actions) commits the xml files to the [xml](xml) folder. The [GitHub Actions build of **this** repo](https://github.com/HaxeFoundation/api.haxe.org/actions) will then take care of generating the pages, and than commit the output to the `gh-pages` branch, which is the source of [GitHub Pages](https://pages.github.com/).

## development info

To generate the pages locally, run the commands in [.github/workflows/main.yml](.github/workflows/main.yml), except you don't run the `haxe --run DeployGhPages` line at the end for obvious reason.

The html/css/js template files reside in the [theme](theme) folder. The theme inherits [dox default](https://github.com/HaxeFoundation/dox/tree/master/themes/default).

The haxelib dependencies are managed as submodules in the [libs](libs) folder. We do not use lib.haxe.org just because we often evolve the dependencies in parallel to Haxe development, and it is troublesome to make proper releases...

To keep the repository size reasonable, we only keep the last several commits of the `gh-pages` branch. This means we are constantly rewriting the history of `gh-pages`. As a result, pulling `gh-pages` doesn't make much sense. Use `git fetch && git checkout gh-pages && git reset --hard origin/gh-pages` if you want to get an updated copy of the `gh-pages` branch.
